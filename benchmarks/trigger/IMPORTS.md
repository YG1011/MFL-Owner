# `training.py` 依赖说明

`benchmarks/trigger/training.py` 在顶部导入了三个实用模块，用于处理触发数据与命令行参数：

| 导入语句 | 期望提供的模块 | 功能说明 | 可能的来源 |
| --- | --- | --- | --- |
| `from embedding import EmbeddingLoadError, get_emb` | `embedding.py` | 从预先保存的 `.pt`/`.npy`/`.npz` 文件中读取每个客户端的图像与文本嵌入，返回张量列表，并在缺失文件时抛出明确异常。 | 已收录于本仓库，包含自适应目录扫描逻辑。 |
| `from options import get_parser_args` | `options.py` | 封装命令行参数解析，提供触发器数量 `trigger_num`、训练方法 `method`、输出目录 `output_dir`、优化器参数等配置。 | 已收录于本仓库，支持命令行与环境变量覆盖。 |

## 自定义扩展建议

虽然默认实现已经能够处理常见的数据布局，但你仍可以根据需要进行拓展：

1. **`trigger.py`**：虽然当前训练脚本不再直接依赖，但仍可作为触发图像检查与数据探索的工具模块。
2. **`embedding.py`**：可扩展对数据库存储或远程对象存储的支持，只要保持 `get_emb` 的返回格式。
3. **`options.py`**：可继续添加新的命令行开关，例如额外的正则化项或日志配置。

> ℹ️ 如对默认实现进行了大幅修改，欢迎更新本文档，帮助其他使用者理解改动后的接口。
